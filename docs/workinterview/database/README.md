## 데이터베이스 기술 면접 준비

### 데이터베이스란 무엇인가요?

데이터베이스란 여러 사람이 공유하여 사용할 목적으로 통합되어 관리되는 데이터의 집합을 의미합니다.
이러한 데이터베이스 관리 시스템을 DBMS라고 합니다.

---
### 데이터베이스의 특징은 무엇인가요?

데이터베이스 특징은 `독립성`, `무결성`, `보안성`, `일관성`, `중복 최소화`가 있습니다.

+ 독립성(Independence): 데이터베이스는 데이터를 사용하는 응용 프로그램과 독집적으로 데이터를 저장 및 관리합니다.
+ 무결성(Integrity): 데이터베이스는 다양한 제약 조건 및 기능을 통해 데이터의 무결성을 유지해줍니다.
+ 보안성(Security): 데이터베이스는 계정 및 권한 관리를 통해 데이터들의 보안을 유지해줍니다.
+ 일관성(Consistency): 데이터베이스는 다양한 제약조건을 통해 데이터를 일관되게 유지해줍니다.
+ 중복 최소화(Minimum Duplication): 데이터베이스 데이터를 통합해서 관리함으로써 데이터의 중복을 최소화 합니다.

```
데이터 무결성이란 데이터의 정확성과 일관성을 유지하고 보증하는 것을 가리킵니다.

- 개체 무결성(Entity Integrity): 모든 테이블은 기본 키(Primary key)를 가져야 하며 키로 선택된 열은 고유하고 빈 값은 허용되지 않는다. 
- 참조 무결성(Referential Integrity): 모든 외래 키 값은 Null 이거나 참조되는 릴레이션 기본 키 값과 동일해야 합니다.
- 범위 무결성(Domain Integrity): 정의된 범위에서 관계형 데이터베이스의 모든 열이 선언되도록 합니다.
```

---
### 데이터베이스에 존재하는 Key에 대해서 설명해주세요.

기본키와 외래키가 대표적입니다.

기본 키는 하나의 테이블에서 특정 행을 구별할 수 있는 속성(Attribute)을 의미합니다. 개체 무결성에 의해 기본 키는 Null 값, 중복된 값이 저장되지 않습니다.

외래 키는 참조되는 테이블의 기본 키와 대응되어 테이블 간에 참조 관계를 표시하는 키 입니다. 외래 키로 지정되면 참조 무결성에 의해 참조 테이블의 기본키에 없는 값은 입력할 수 없습니다.

---
### 조인이란 무엇이고 어떠한 조인이 있는지 알려주세요.

조인이란 2개 이상의 테이블에서 조건에 맞는 데이터를 추출하기 위해 사용하는 쿼리문을 의미합니다.

+ Inner Join: 2개 이상의 테이블에서 교집합만을 가져옵니다.
+ Outer Join: 2개 이상의 테이블에서 모든 테이블에 해당하는 부분을 가져옵니다.
+ Left Join: 2개 이상의 테이블에서 `FROM`문에 해당하는 부분을 가져옵니다.
+ Right Join: 2개 이상의 테이블에서 `FROM`문의 테이블과 `JOIN`하는 테이블에 해당하는 부분을 가져옵니다.

![]()

---
### 트랜잭션(Transaction)은 무엇인가요?

트랜잭션이란 데이터베이스의 상태를 변환시키는 하나의 논리적 기능을 수행하기 위한 작업의 단위 또는 한꺼번에 모두 수행되어야 할 일련의 연산들을 의미합니다.

---
### 트랜잭션의 특징은 어떤게 있나요?

트랜잭션의 특징으로 4가지 특성이 있으며 이는, `원자성`,`일관성`,`격리성`,`지속성`을 의미합니다.

+ 원자성(Atomicity): 트랜잭션의 연산이 데이터베이스에 모두 반영되든지 반대로 전혀 반영되지 않는다는 것을 의미합니다.
+ 일관성(Consistency): 트랜잭션이 수행된 이후에도 데이터베이스는 언제나 일관성있는 데이터를 제공해야한다는 의미입니다.
+ 독립성(Isolation): 여러 트랜잭션인 동시에 수행되더라도 각각의 트랜잭션은 서로 간섭없이 독립적으로 수행되어야 한다는 것을 의미합니다.
+ 지속성(Duration): 성공적으로 완료된 트랜잭션의 결과는 데이터베이스에 영구적으로 저장되어야 한다는 것을 의미합니다.

---
### 트랜잭션은 어떻게 동작하나요?

1. 트랜잭션을 시작합니다.
2. 트랜잭션 내의 다양한 작업을 수행합니다.
   + 트랜잭션 내의 모든 작업을 이상없이 완료했다면 해당 트랜잭션을 `Commit` 합니다.
   + 트랜잭션 내의 작업을 진행하던 중에 실패했다면 해당 트랜잭션을 `Rollback` 또는 `Abort`합니다.

![]()

---
### 인덱스란 무엇인가요?

데이터베이스에 인덱스란 테이블의 동작 속도(Row 검색 속도)를 높여주는 자료구조입니다. 책의 앞 부분에 존재하는 목차를 이용해 원하는 챕터를 빠르게 찾아갈 수 있는것과 같습니다.

데이터베이스 인덱스를 테이블의 따로 저장하며 관리합니다. 

---
### 인덱스를 구현하기 위한 자료구조는 어떤게 존재하나요?

인덱스 종류로는 `B- Tree`, `R- Tree` 등이 존재하고 가장 범용적으로 사용되는 알고리즘은 `B- Tree`입니다.

`B- Tree`는 항상 정렬된 상태를 유지하고 루트 노드, 브랜치 노드, 리프 노드 형태입니다.
예를들어, `E`라는 대상을 찾는다면 전체 테이블을 검색하지 않고 루트 노드부터 자식 노드를 비교해가며 탐색을 이어나가는데요. 이 모습이 반씩 나누어서 수행하는 것처럼 보입니다.

---
### 인덱스를 고려할 때 어떠한 점에 주의해야 하나요?

인덱스를 설정할 때 해당 테이블에서 어떠한 쿼리가 자주 사용되는지 분석 해야합니다. `SELECT`가 자주 사용되는 테이블이라면 인덱스 설정시 성능 향상을 기대할 수 있지만,
`UPDATE`,`DELETE`,`INSERT` 쿼리가 자주 사용되면 오히려 성능이 저하될 수 있습니다.

인덱스 설정 시 컬럼에 중복되는 값이 많이 없는 컬럼을 인덱스로 걸어야 합니다. 중복되는 값이 많은 컬럼을 인덱스로 설정하면 많은 row 탐색이 수행되어 `Full Scan`과 비슷한 성능을 얻게됩니다.

그래서 중복이 많이 없는 컬럼을 인덱스로 사용하면 소수의 row만 탐색할 것이고 이것을 높은 `Covering Index`를 가진다라고 표현합니다.

---
### 정규화(Normalization)는 무엇이며 왜 필요한가요?

정규화란 데이터베이스에서 갱신 이상을 없애고 데이터의 중복을 최소화하기 위해 하나의 테이블을 둘 이상의 테이블로 분리하는 작업을 의미합니다.

갱신 이상에 종류로는 `삽입 이상`,`삭제 이상`,`수정 이상` 등이 포함됩니다.

+ 삽입 이상(Insertion Anomalies): 원하지 않는 자료가 삽입된다든지, 삽입하는데 자료가 부족해 삽입이 되지 않아 발생하는 이상을 의미합니다.
+ 삭제 이상(Deletion Anomalies): 하나의 자료만 삭제하고 싶지만, 그 자료가 포함된 튜플 전체가 삭제됨으로써 원하지 않는 정보의 손실이 발생하는 이상을 의미합니다.
+ 수정 이상(Modification Anomalies): 데이터 수정시 일부의 튜플만 갱신되어 데이터의 일관성에 이상이 생기는 현상을 의미합니다.

---
### 정규형이란 무엇이고 이들의 종류에 대해서 설명해주실 수 있나요?

정규형이란 특정 조건을 만족하는 테이블의 스키마 형태를 말하며 `제 1정규형`,`제 2정규형`,`제 3정규형`,`BCNF 정규형` 등이 존재합니다.

+ 제 1정규형: 테이블의 각 행의 컬럼 값이 1개만 있어야 하는 형태의 스키마를 의미합니다.
+ 제 2정규형: 제 1정규형을 만족하면서 Primary key가 합성키이고, 부분 함수 종속(Primary Key 중에 특정 컬럼에만 종속된 컬럼)이 없어야 하는 형태의 스키마를 의미합니다.
+ 제 3정규형: 제 2정규형을 만족하면서 테이블 내의 비주요 속성이 기본 키에만 의존하는 테이블 스키마를 의미합니다.
+ BCNF 정규형: 제 3정규형을 만족하면서 모든 결정자가 후보키 집합에 속한 테이블 스키마를 의미합니다.

```
함수적 종속성(Functional Dependency)

X와 Y를 임의의 속성 집합이라고 할 때, X의 값이 Y의 값을 유일하게(unique) 결정한다면 "X는 Y를 함수적으로 결정한다"라고 합니다.
X를 결정자, Y를 종속자라고 표현합니다.
```

---
### NoSQL이란 무엇이고 어떠한 경우에 사용하는 것이 좋나요?

NoSQL 데이터베이스란 전통적인 관계형 모델에서 벗어나 다양한 데이터 모델을 사용해 데이터의 관리와 접근을 지원하는 데이터베이스를 의미합니다.

데이터의 스펙이 자주 변경되는 경우, Read 작업이 자주 일어나는 경우, 수 많은 양의 데이터를 다루기 위해 수평 확장이 자주 필요한 경우에 사용하면 좋습니다.

---
### NoSQL의 장점과 단점에 대해서 말해주세요.

NoSQL 장점은 스키마가 없거나 느슨하게 제공되기 때문에 요구사항 변경에 유연하게 대처할 수 있습니다.
또한, 관계형 데이터베이스에 비해 수평 확장이 쉽기 때문에 대용량 데이터 처리시 성능 이점을 얻을 수 있습니다.

NoSQL 단점은 데이터베이스마다 사용하는 데이터의 모델이 다르기 때문에 이를 도입하기 위해서는 해당 데이터베이스에 깊이 있는 이해가 필요합니다.
SQL 처럼 엄격한 제약조건이 존재하지 않기 때문에 데이터를 수정하거나 삭제하는 경우 모든 컬렉션에 걸쳐서 이를 반영해야 하는 단점이 존재합니다.

---
### 사용해보신 NoSQL이 있으시나요? 있다면 무엇이고 왜 사용했는지 알려주세요.

사용해 본 경험은 없지만 흥미가 있어 조금 공부해본 `Redis`가 있습니다.

인-메모리 기반의 Key-Value 구조를 가지는 데이터베이스이고 추천 정보, 사용자 정보를 캐싱하기 위해 `Redis`를 사용하기 좋고 장애 대응을 위해 `Redis`가 제공하는 `Master-Replica` 모델을 사용할 수 있습니다.

---
### 데이터 모델에 따라 NoSQL을 분류한다면 어떻게 분류할 수 있을까요?

대표적으로 하나의 키에 하나의 데이터가 저장되는 `Key-Value` 모델과 `Key-Value` 모델을 개념적으로 확장해서 하나의 키에 하나의 구조화된 문서를 저장하는
`Document` 채택한 데이터베이스 등으로 나눌 수 있습니다.

`Key-Value Data Model`을 채택한 `Redis`와 `Doucument Data Model`을 채택한 `Mongo DB`가 있습니다.

